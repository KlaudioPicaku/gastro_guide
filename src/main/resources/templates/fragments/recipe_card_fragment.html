<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:util="urn:java:org.thymeleaf.expression.Strings" th:with="contentTemplate='recipe_card_fragment'">
<body>
<div th:fragment="recipe-card(recipe)">
    <div class="recipe-card">
        <div class="cover-image">
            <img th:src="${recipe.getCoverPath()}" class="card-img-top" alt="Recipe Image">
            <div class="author-overlay mt-2">
                <span><img th:src="${recipe.getAuthorProfilePic()}" class="author-profile-pic" alt="Author Profile Picture"></span>
                <span class="author-name"><a class="recipe-link" th:text="${recipe.getAuthorName()}" th:href="${recipe.getAuthorAbsoluteUrl()}"></a></span>
                <span th:if="${recipe.isVerified()}"><i class="bi bi-patch-check-fill checkmark" data-toggle="tooltip" data-placement="top" title="Verified Chef"></i></span>
            </div>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="card-rating">
                    <span class="star">&#9733;</span>
                    <span class="rating-value" th:text="${recipe.getRating().getRatingValue()}"></span>
                    <span> <i class="bi bi-clock-fill clock-icon" th:text="${recipe.getEstimatedDuration()} + 'min'"></i></span>
                </div>
            </div>
            <div class="row">
                <h5 class="card-title">
                    <a class="recipe-link" th:href="${recipe.getAbsoluteUrl()}" th:text="${recipe.getName()}"></a>
                </h5>
            </div>
            <p class="card-text" th:text="${#strings.abbreviate(recipe.getDescription(), 100)}"></p>
            <hr class="my-4">
            <p>Tags:</p>
            <div class="card-tags">
                <span class="badge badge-primary" th:each="tag : ${recipe.getTags()}">[[${tag}]]</span>
            </div>
        </div>
    </div>
</div>
</body>
</html>